{"version":3,"sources":["components/Sidebar/Sidebar.module.scss","components/Users/Users.module.scss","components/Navbar/Navbar.module.scss","components/Users/UserCard/UserCard.module.scss","assets/img/Spinner.svg","assets/img/logo.png","components/Profile/Profile.module.scss","assets/img/cover.jpg","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.scss","assets/img/userBG.jpg","assets/img/suarez.png","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Login/Login.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","assets/img/batman.png","assets/img/doctorWho.png","assets/img/hakimAlAsad.png","assets/img/johnDoe.png","assets/img/keanuReeves.png","assets/img/markTwain.png","assets/img/nelsonMandela.png","assets/img/margoRobby.png","assets/img/discoGirl.png","assets/img/msFitcher.png","components/common/Preloader.tsx","redux/dialogsReducer.ts","components/HOC/AuthRedirect.tsx","components/Dialogs/DialogItem/DialogItem.tsx","utils/validators/validator.ts","components/common/FormsControl/FormsControl.tsx","components/Dialogs/Messages/AddMessage/AddMessage.tsx","components/Dialogs/Messages/MessageItem/MessageItem.tsx","components/Dialogs/Messages/Messages.tsx","components/Dialogs/DialogsContainer.tsx","components/Dialogs/Dialogs.tsx","API/API.ts","redux/authReducer.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","components/Music/Music.tsx","components/Navbar/Navbar.tsx","components/News/News.tsx","redux/profileReducer.ts","components/Profile/MyPosts/AddPost/AddPost.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Settings/Settings.tsx","components/Sidebar/SidebarFriend/SidebarFriend.tsx","components/Sidebar/Sidebar.tsx","components/Sidebar/SidebarContainer.tsx","redux/usersReducer.ts","redux/usersSelectors.ts","components/Users/UserCard/UserCard.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","redux/appReducer.ts","App.tsx","redux/sidebarReducer.ts","redux/redux-store.ts","serviceWorker.ts","index.tsx","components/common/FormsControl/FormsControl.module.scss","components/Sidebar/SidebarFriend/SidebarFriend.module.scss","components/Dialogs/Messages/MessageItem/MessageItem.module.scss","components/Dialogs/Messages/Messages.module.scss","components/Header/Header.module.scss","assets/img/einstein.png","components/Dialogs/Messages/AddMessage/AddMessage.module.scss","components/Profile/MyPosts/AddPost/AddPost.module.scss","components/Dialogs/Dialogs.module.scss","components/Profile/MyPosts/MyPosts.module.scss"],"names":["module","exports","Preloader","style","position","left","top","transform","alt","src","Spinner","initialState","dialogs","name","id","preview","time","avatar","require","messages","description","fromMe","dialogsReducer","state","action","type","newMessage","Date","getHours","getMinutes","mapStateToProps","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","to","React","memo","dialog","activeClassName","classes","active","className","dialogs__contact","dialogs__contact__avatar","dialogs__contact__info","dialogs__contact__title","dialogs__contact__preview","dialogs__contact__time","required","value","maxLength","max","length","undefined","maxLength30","maxLength50","FormControl","input","meta","children","hasError","touched","error","styles","errorMessage","Textarea","classnamestring","Input","ReduxAddMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","newMessage__bottom","newMessage__attachments","newMessage__btn","AddMessage","newMessageText","sendMessage","MessageItem","message","right","message__img","message__name","message__descr","message__time","Messages","messages__field","messages__field__title","messages__title","messages__settings","messages__area","map","key","AuthRedirectComponent","dialogs__header","dialogs__contacts","dialogsPage","DialogItem","DialogsContainer","axiosInstance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","response","data","userId","post","delete","authAPI","loginFormData","login","password","rememberMe","email","captcha","profileAPI","status","put","setAuthUserDataSuccess","payload","setAuthUserData","dispatch","resultCode","authReducer","Header","header","header__link","header__logo","logo","headerLogin","onClick","logoutUser","HeaderContainer","this","Component","res","LoginReduxForm","s","loginInput","inputContainer","loginPassword","checkboxContainer","loginButton","Login","useDispatch","useSelector","container","intro","formData","stopSubmit","_error","Music","Navbar","navbar","nav__list__item","nav__list__link","News","profile","posts","likeCount","setUserStatusSuccess","profileReducer","newPost","newPostText","ReduxAddPostForm","addPost__form","addPost__avatar","addPost__btn","AddPost","addPost","Post","post__info","post__info__avatar","post__info__link","post__info__title","post__info__time","post__content","post__content__text","post__likes","post__likes__text","MyPosts","MyPostsContainer","profilePage","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onChange","e","currentTarget","onBlur","updateUserStatus","autoFocus","onDoubleClick","ProfileInfo","profileInfo","profileCover","profileCoverImg","photos","large","coverImage","profileBody","profileAvatar","small","profileDescr","profileDescrTitle","fullName","aboutMe","profileDescrJobSearch","lookingForAJob","profileDescrJobDescr","lookingForAJobDescription","profileContacts","href","contacts","mainLink","facebook","instagram","github","twitter","youtube","vk","Profile","ProfileContainer","match","params","authorizedUserId","setUserProfile","setUserStatus","compose","userID","withRouter","Settings","SidebarFriend","online","sidebar__friend","String","sidebar__friend__avatar_wrapper","sidebar__friend__avatar","sidebar__friend__descr","sidebar__friend__descr_title","sidebar__friend__descr_status","Sidebar","sidebar","sidebar__friends","sidebarFriends","friend","SidebarContainer","friends","users","totalUsersCount","isFetching","followingInProgress","setUsers","toggleIsFetching","toggleFollowing","isFollowing","usersReducer","u","followed","pageNumber","totalUsers","filter","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowing","User","user","followUser","unfollowUser","userCard","userCardBgWrapper","userCardBg","userBG","userCardAvatarWrapper","userCardAvatar","userCardBottom","userCardTitle","userCardLocation","userCardFeatures","userCardFriends","userCardPhotos","userCardStatus","disabled","some","item","backgroundColor","userCardBtn","Users","pagesCount","Math","ceil","pages","i","push","pagination","p","onCurrentPageChanged","selectedPage","usersCards","UserCard","UsersContainer","requestUsers","console","log","totalCount","items","catch","initialized","appReducer","App","initializeApp","path","render","app","Promise","all","initalState","sidebarReducer","reducers","combineReducers","usersReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b53acc51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2ZG83\",\"sidebar__friends\":\"Sidebar_sidebar__friends__3k50V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__1vg_y\",\"pagination\":\"Users_pagination__2JYwl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3n_Hh\",\"nav__list\":\"Navbar_nav__list__ZTT9u\",\"nav__list__link\":\"Navbar_nav__list__link__1_gVi\",\"active\":\"Navbar_active__TC0K6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersCards\":\"UserCard_usersCards__1GZ2c\",\"selectedPage\":\"UserCard_selectedPage__3_Hm1\",\"userCard\":\"UserCard_userCard___q5YF\",\"userCardBg\":\"UserCard_userCardBg__2202C\",\"userCardAvatar\":\"UserCard_userCardAvatar__2ZeAO\",\"userCardBottom\":\"UserCard_userCardBottom__mKrQA\",\"userCardTitle\":\"UserCard_userCardTitle__tgSsO\",\"userCardFriends\":\"UserCard_userCardFriends__2omjP\",\"userCardPhotos\":\"UserCard_userCardPhotos__1vKOW\",\"userCardLocation\":\"UserCard_userCardLocation__xeTrs\",\"userCardStatus\":\"UserCard_userCardStatus__33R92\",\"userCardFeatures\":\"UserCard_userCardFeatures__QeAbT\",\"userCardBtn\":\"UserCard_userCardBtn__Cg_-j\",\"userCardBtnFollow\":\"UserCard_userCardBtnFollow__kJkGK\",\"userCardBtnUnfollow\":\"UserCard_userCardBtnUnfollow__2FxdM\"};","module.exports = __webpack_public_path__ + \"static/media/Spinner.518ce924.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAQAAACQTsNJAAACL0lEQVR42pzVS4hOYRzH8f9ocp1cCkPIvWxJNi4zLFiwcIuSUuws2FiQhqlJFrbKlDJW1Gg0CxuJSEK5FAoLyUJCjdEkt/F+LN4z75z3nXPOa/zP5jz/53e+z//ynOeJyDEdiuyb5qhv7hdCTud/eMqAUxERphksQHwxLR/yEwMREXYUxnG8KIXhSDoLEB9NiogwtV5F3hZADieaW3YUIZYWIN4ZFxGhFV/My0gjGR8sgBxINFfA1YyCJuPeXMRrjYmmRQmsyYxEo/5cyO7UUhdBb3ZFVucinmqoqlwJv0zPgrTnQjbXKO+C/VHuedXUvRzEC4uSZ2GiPAG6wm3tJqQQUwo3fNk6Eu068Ch8xpthjO11EdeMSbTN4HO5vYyvQM7VQbwyJdVH+DUS8qYQ0W9ZKvWxYDC8A7Mym724BlGypWp+9lA65Ta1ZEIO1UDaaubXg8fhLDiSCblehehJb7WICKdBZ9gD7mQgmvxIIZ5rGqF4BvaGqX6glC5YItmaQvRZMmJ+OfhpekToBhdGiM5XEIM2ZUR6CXSXByvBH6uqJA3eVyAZFbMmOQrWDjl6wMvhbRRhRQVxObPo5VP42rBjjq/gprEVX1uCeGJiJmSGj/osSLt2JcHdMDnxPACfzM89iXfaVus6Cr6Xf3Mz/cFvrTE6c0zJyeR9HziUfzPlY7YM/Yi60VV0R9aPaZx+D8v3S/Xq/xBJBbLRB3P/Y/UqyBmrR1WHTMiG0en/DgD1ngtFCYaQgQAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__cZKsg\"};","module.exports = __webpack_public_path__ + \"static/media/cover.4d76cfcd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__3rJ-H\"};","module.exports = __webpack_public_path__ + \"static/media/userBG.b59ea9b9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/suarez.68b7cd7e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2iTb8\",\"post__info\":\"Post_post__info__15IZq\",\"post__info__avatar\":\"Post_post__info__avatar__2t_mK\",\"post__info__title\":\"Post_post__info__title__isys4\",\"post__info__time\":\"Post_post__info__time__1KYi5\",\"post__content__text\":\"Post_post__content__text__3YKuT\",\"post__likes\":\"Post_post__likes__2ypQZ\",\"post__likes__text\":\"Post_post__likes__text__3w9Kh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__1FSTj\",\"profileCover\":\"ProfileInfo_profileCover__1-mG2\",\"profileCoverImg\":\"ProfileInfo_profileCoverImg__bEy-R\",\"profileBody\":\"ProfileInfo_profileBody__2KtRK\",\"profileAvatar\":\"ProfileInfo_profileAvatar__25iVv\",\"profileDescr\":\"ProfileInfo_profileDescr__oE-Q6\",\"profileContacts\":\"ProfileInfo_profileContacts__1FUJS\",\"profileDescrTitle\":\"ProfileInfo_profileDescrTitle__2rcFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1h8af\",\"intro\":\"Login_intro__33TcJ\",\"form\":\"Login_form__31OTs\",\"loginInput\":\"Login_loginInput__3RUjw\",\"loginPassword\":\"Login_loginPassword__22yr9\",\"checkboxContainer\":\"Login_checkboxContainer__P7WX9\",\"inputContainer\":\"Login_inputContainer__1t20u\",\"loginButton\":\"Login_loginButton__29wZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"DialogItem_active__2WmQ6\",\"dialogs__contact\":\"DialogItem_dialogs__contact__1z_9-\",\"dialogs__contact__avatar\":\"DialogItem_dialogs__contact__avatar__SASTA\",\"dialogs__contact__info\":\"DialogItem_dialogs__contact__info__17ShL\",\"dialogs__contact__title\":\"DialogItem_dialogs__contact__title__7eHBa\",\"dialogs__contact__preview\":\"DialogItem_dialogs__contact__preview__uahuR\",\"dialogs__contact__time\":\"DialogItem_dialogs__contact__time__2wVbw\"};","module.exports = __webpack_public_path__ + \"static/media/batman.8758a839.png\";","module.exports = __webpack_public_path__ + \"static/media/doctorWho.9d1202b0.png\";","module.exports = __webpack_public_path__ + \"static/media/hakimAlAsad.6e7f348c.png\";","module.exports = __webpack_public_path__ + \"static/media/johnDoe.1923a86d.png\";","module.exports = __webpack_public_path__ + \"static/media/keanuReeves.71838e99.png\";","module.exports = __webpack_public_path__ + \"static/media/markTwain.1ace64cb.png\";","module.exports = __webpack_public_path__ + \"static/media/nelsonMandela.28a40bdc.png\";","module.exports = __webpack_public_path__ + \"static/media/margoRobby.38dfc36c.png\";","module.exports = __webpack_public_path__ + \"static/media/discoGirl.aa5b7491.png\";","module.exports = __webpack_public_path__ + \"static/media/msFitcher.10470661.png\";","import CSS from 'csstype';\r\nimport React from 'react';\r\nimport Spinner from './../../assets/img/Spinner.svg';\r\n\r\nconst Preloader: React.FC = () => {\r\n\r\n  const styles: CSS.Properties = {\r\n    position: \"fixed\",\r\n    left: \"50%\",\r\n    top: \"50%\",\r\n    transform: \"translateX(-50%)\"\r\n  }\r\n\r\n  return (\r\n    <div style={styles}>\r\n      <img alt=\"spinner\" src={Spinner} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader;","import { ActionsTypes } from \"./redux-store\";\r\n\r\nexport type DialogsPageType = {\r\n    dialogs: Array<DialogItemType>\r\n    messages: Array<MessageItemType>\r\n}\r\n\r\nexport type DialogItemType = {\r\n    name: string\r\n    id: number\r\n    preview: string\r\n    time: string\r\n    avatar: string\r\n};\r\n\r\nexport type MessageItemType = {\r\n    id: number\r\n    name: string\r\n    description: string\r\n    time: string\r\n    fromMe: boolean\r\n    avatar: string\r\n};\r\n\r\n// нам нужен инит стейт для каждой ветки, так как redux при первой загрузке\r\n// приложения сам диспатчит action, при этом наш state - undefined\r\n// теперь при первой загрузке наш state будет равен initial state\r\nlet initialState: DialogsPageType = {\r\n    dialogs: [\r\n        {\r\n            name: \"Albert Einstein\",\r\n            id: 1,\r\n            preview: \"Anyone who has never made a mistake has never tried anything new\",\r\n            time: \"8:23\",\r\n            avatar: require(\"./../assets/img/einstein.png\")\r\n        },\r\n        {\r\n            name: \"Kurt Cobain\",\r\n            id: 2,\r\n            preview: \"When the lights out it's less dangerous\",\r\n            time: \"8:43\",\r\n            avatar: require(\"./../assets/img/einstein.png\")\r\n        },\r\n        {\r\n            name: \"Steve Jobs\",\r\n            id: 3,\r\n            preview: \"It’s really clear that the most precious resource we all have is time\",\r\n            time: \"9:23\",\r\n            avatar: require(\"./../assets/img/einstein.png\")\r\n        },\r\n        {\r\n            name: \"Luis Suarez\",\r\n            id: 4,\r\n            preview: \"Bite bite\",\r\n            time: \"7:23\",\r\n            avatar: require(\"./../assets/img/suarez.png\")\r\n        },\r\n    ],\r\n    messages: [\r\n        {\r\n            id: 1,\r\n            name: \"Bruce Wayne\",\r\n            description: \"Yo bro. Let's rescue this world\",\r\n            time: \"13:33\",\r\n            fromMe: true,\r\n            avatar: require(\"./../assets/img/batman.png\")\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Albert Einstein\",\r\n            description: \"Yeah man. Come on\",\r\n            time: \"12:33\",\r\n            fromMe: false,\r\n            avatar: require(\"./../assets/img/einstein.png\")\r\n        },\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes): DialogsPageType => {\r\n    switch (action.type) {\r\n        case \"SEND-MESSAGE\": {\r\n            const newMessage = {\r\n                id: 3,\r\n                name: \"Bruce Wayne\",\r\n                description: action.newMessage,\r\n                time: `${new Date().getHours()}:${new Date().getMinutes()}`,\r\n                fromMe: true,\r\n                avatar: require('./../assets/img/batman.png')\r\n            }\r\n            return { ...state, messages: [...state.messages, newMessage]};\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessage: string) => {\r\n    return {\r\n        type: \"SEND-MESSAGE\",\r\n        newMessage\r\n    } as const;\r\n}\r\n\r\nexport default dialogsReducer;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\n\r\n\r\nfunction mapStateToProps(state: AppStateType) {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  } as MapPropsType;\r\n}\r\n\r\ntype MapPropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\n\r\n// часто когда создаем HOC, мы дописываем, что он дает компоненту\r\n// дописывая в начало 'with'\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n  const WrappedAuthRedirect: React.FC<MapPropsType & {}> = (props) => {\r\n    let { isAuth, ...restProps } = props;\r\n    if (!props.isAuth)\r\n      return <Redirect to='/login' />;\r\n    return <WrappedComponent {...restProps as WCP} />;\r\n  }\r\n\r\n  return connect<MapPropsType, {}, WCP, AppStateType>(mapStateToProps, {})(WrappedAuthRedirect)\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { DialogItemType } from \"../../../redux/dialogsReducer\";\r\nimport classes from './DialogItem.module.scss';\r\n\r\n\r\ntype DialogItemObj = {\r\n    dialog: DialogItemType\r\n}\r\n\r\n\r\nconst DialogItemMemo: React.FC<DialogItemObj> = (props) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${props.dialog.id}`} activeClassName={classes.active}>\r\n            <li className={`${classes.dialogs__contact} ${classes.active}`}>\r\n                <img className={classes.dialogs__contact__avatar} src={props.dialog.avatar} alt={props.dialog.name} />\r\n                <div className={classes.dialogs__contact__info}>\r\n                    <h6 className={classes.dialogs__contact__title}>\r\n                        {props.dialog.name}\r\n                    </h6>\r\n                    <span className={classes.dialogs__contact__preview}>\r\n                        {props.dialog.preview}\r\n                    </span>\r\n                    <span className={classes.dialogs__contact__time}>\r\n                        {props.dialog.time}\r\n                    </span>\r\n                </div>\r\n                <i className=\"far fa-envelope\"></i>\r\n            </li>\r\n        </NavLink>\r\n    )\r\n}\r\n\r\nexport default React.memo(DialogItemMemo);","export const required = (value: string) => {\r\n    if(value) return undefined;\r\n    \r\n    return \"This field is required\"\r\n}\r\n\r\nexport const maxLength = (max: number) => (value: string) => {\r\n   return value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n}\r\n\r\nexport const maxLength30 = maxLength(30);\r\nexport const maxLength50 = maxLength(50);\r\n\r\n","import React, { ReactNode } from \"react\"\r\nimport { ActionsTypes } from \"../../../redux/redux-store\";\r\nimport styles from \"./FormsControl.module.scss\";\r\n\r\ntype FormControlType = {\r\n    input: InputType\r\n    meta: MetaType\r\n    placeholder?: string\r\n    children:  ReactNode\r\n    classnamestring: string\r\n}\r\n\r\ntype InputType = {\r\n    name: string\r\n    onBlur: (e: any) => void\r\n    onChange: (e: any) => void\r\n    onDragStart: (e: any) => void\r\n    onDrop: (e: any) => void\r\n    onFocus: (e: any) => void\r\n    value: string\r\n}\r\n\r\ntype MetaType = {\r\n    active: boolean\r\n    asyncValidating: boolean\r\n    autofilled: boolean\r\n    dirty: boolean\r\n    dispatch: (action: ActionsTypes) => void\r\n    error: string\r\n    form: string\r\n    initial: undefined | string\r\n    invalid: true\r\n    pristine: true\r\n    submitFailed: boolean\r\n    submitting: boolean\r\n    touched: boolean\r\n    valid: boolean\r\n    visited: boolean\r\n    warning: undefined | string\r\n}\r\n\r\n\r\nconst FormControl: React.FC<FormControlType> = ({input, meta, children, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <>\r\n            {children}\r\n            {hasError && <span className={styles.errorMessage}>{meta.error}</span>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<FormControlType> = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea className={`${styles[props.classnamestring]} ${hasError ? styles.error : \"\"}`} {...input} {...restProps} />\r\n        </FormControl>\r\n    )    \r\n}\r\n\r\nexport const Input: React.FC<FormControlType> = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <>\r\n           <FormControl {...props}>\r\n                <input className={`${styles[props.classnamestring]} ${hasError ? styles.error : \"\"}`} {...input} {...restProps} />\r\n            </FormControl>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { maxLength50, required } from '../../../../utils/validators/validator';\r\nimport { Textarea } from '../../../common/FormsControl/FormsControl';\r\nimport classes from './AddMessage.module.scss';\r\n\r\ntype AddMessageType = {\r\n  sendMessage: (newMessage: string) => void\r\n}\r\n\r\ntype AddMessageFormType = {\r\n  newMessage: string\r\n}\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<AddMessageFormType>> = (props) => {\r\n  return (\r\n    <form className={classes.newMessage} onSubmit={props.handleSubmit}>\r\n      <Field \r\n        component={Textarea} \r\n        name=\"newMessage\" \r\n        placeholder=\"Write your reply...\"\r\n        validate={[required, maxLength50]} \r\n        classnamestring=\"formControlMessageTextarea\" />\r\n      <div className={classes.newMessage__bottom}>\r\n        <div className={classes.newMessage__attachments}>\r\n          <i className=\"fas fa-paperclip\"></i>\r\n        </div>\r\n        <button className={classes.newMessage__btn}>Send Message</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst ReduxAddMessageForm = reduxForm<AddMessageFormType>({form: \"Add Message\"})(AddMessageForm)\r\n\r\nconst AddMessage: React.FC<AddMessageType> = (props) => {\r\n\r\n  const sendMessageCallback = (newMessageText: AddMessageFormType) => {\r\n    props.sendMessage(newMessageText.newMessage)\r\n  }\r\n\r\n  return(\r\n    <ReduxAddMessageForm onSubmit={sendMessageCallback} />\r\n  )\r\n}\r\n\r\nexport default AddMessage;","import React from 'react';\r\nimport classes from './MessageItem.module.scss';\r\nimport {MessageItemType} from \"../../../../redux/dialogsReducer\";\r\n\r\n\r\ntype MessageItemObj = {\r\n  message: MessageItemType\r\n}\r\n\r\nconst MessageItem: React.FC<MessageItemObj> = (props) => {\r\n  return (\r\n    <div className={`${classes.message} ${props.message.fromMe ? null : classes.right}`}>\r\n      <img className={classes.message__img} src={props.message.avatar} alt={props.message.name} />\r\n      <h6 className={classes.message__name}>{props.message.name}</h6>\r\n      <p className={classes.message__descr}>{props.message.description}</p>\r\n      <span className={classes.message__time}>{props.message.time}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { MessageItemType } from \"../../../redux/dialogsReducer\";\r\nimport AddMessageForm from './AddMessage/AddMessage';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport classes from './Messages.module.scss';\r\n\r\n\r\ntype MessagesPropsType = {\r\n  messages: Array<MessageItemType>;\r\n  sendMessage: (newMessage: string) => void\r\n}\r\n\r\nconst Messages: React.FC<MessagesPropsType> = (props) => {\r\n  return (\r\n    <div className={classes.messages__field}>\r\n      <div className={classes.messages__field__title}>\r\n        <h4 className={classes.messages__title}>---Contact---</h4>\r\n        <NavLink className={classes.messages__settings} to={'/settings'}>\r\n          <i className=\"fas fa-ellipsis-h\"></i>\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.messages__area}>\r\n        {props.messages.map(message => {\r\n          return (\r\n            <MessageItem\r\n              key={message.id}\r\n              message={message}\r\n            />\r\n          )\r\n        })}\r\n      </div>\r\n      <AddMessageForm sendMessage={props.sendMessage} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Messages;","import { connect } from 'react-redux';\r\nimport { DialogsPageType, sendMessage } from '../../redux/dialogsReducer';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { withAuthRedirect } from '../HOC/AuthRedirect';\r\nimport Dialogs from './Dialogs';\r\n\r\ntype MapStateToPropsType = {\r\n  dialogsPage: DialogsPageType\r\n}\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(Dialogs);\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n  return {\r\n    // диалоги будут перерисовываться, если этот объект будет иным\r\n    dialogsPage: state.dialogsPage\r\n  }\r\n}\r\n\r\nconst DialogsContainer = connect(mapStateToProps, { sendMessage })(AuthRedirectComponent)\r\n\r\nexport default DialogsContainer;","import React from 'react';\r\nimport { DialogsPageType } from \"../../redux/dialogsReducer\";\r\nimport DialogItem from './../Dialogs/DialogItem/DialogItem';\r\nimport classes from './Dialogs.module.scss';\r\nimport Messages from './Messages/Messages';\r\n\r\ntype DialogsPropsType = {\r\n  dialogsPage: DialogsPageType\r\n  sendMessage: (newMessage: string) => void\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <h4 className={classes.dialogs__header}>Chat / Messages</h4>\r\n      <div>\r\n        <ul className={classes.dialogs__contacts}>\r\n          {props.dialogsPage.dialogs.map(dialog => {\r\n            return (\r\n              <DialogItem key={dialog.id} dialog={dialog} />\r\n            )\r\n          })}\r\n        </ul>\r\n        <Messages\r\n          messages={props.dialogsPage.messages}\r\n          sendMessage={props.sendMessage} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs;","import axios from \"axios\";\r\nimport { LoginFormDataType } from \"../components/Login/Login\";\r\nimport { UserProfileType } from \"../redux/profileReducer\";\r\nimport { UserType } from \"../redux/usersReducer\";\r\n\r\ntype GetUsersResponseType = {\r\n  items: UserType[]\r\n  totalCount: number\r\n  error: string\r\n}\r\n\r\ntype CommonResponseType<D> = {\r\n  resultCode: number\r\n  messages: Array<string>\r\n  data: D\r\n}\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"12593e8b-a230-49da-8bc0-827e793858c7\"\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers: (currentPage: number = 1, pageSize: number = 10) => {\r\n    return axiosInstance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n  followUser: (userId: number) => {\r\n    return axiosInstance.post<CommonResponseType<{}>>(`follow/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n  unfollowUser: (userId: number) => {\r\n    return axiosInstance.delete<CommonResponseType<{}>>(`follow/${userId}`)\r\n      .then(response => response.data)\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  authMe: () => {\r\n    return axiosInstance.get<CommonResponseType<{\r\n      messages: Array<string>\r\n      id: number\r\n      email: string\r\n      login: string\r\n    }>>(`auth/me`)\r\n      .then(response => response.data);\r\n  },\r\n  login: (loginFormData: LoginFormDataType) => {\r\n    const { login, password, rememberMe = false } = { ...loginFormData }\r\n    return axiosInstance.post<CommonResponseType<{\r\n      userId: number\r\n    }>>(`auth/login`, {\r\n      email: login,\r\n      password: password,\r\n      rememberMe: rememberMe,\r\n      captcha: false\r\n    })\r\n      .then(response => response.data)\r\n  },\r\n  logout: () => {\r\n    // после этого запроса сервак удалит куку  \r\n    return axiosInstance.delete<CommonResponseType<{}>>(`auth/login`)\r\n      .then(response => response.data)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile: (userId: number | null) => {\r\n    return axiosInstance.get<UserProfileType>(`profile/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n  getUserStatus: (userId: number | null) => {\r\n    return axiosInstance.get<string>(`profile/status/${userId}`)\r\n      .then(response => response.data);\r\n  },\r\n  updateUserStatus: (status: string) => {\r\n    return axiosInstance.put<CommonResponseType<{}>>(`profile/status/`, {\r\n      status: status\r\n    })\r\n      .then(response => response.data);\r\n  }\r\n}","import { Dispatch } from 'redux';\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk';\r\nimport { authAPI } from '../API/API';\r\nimport { LoginFormDataType } from \"./../components/Login/Login\";\r\nimport { ActionsTypes, AppStateType } from \"./redux-store\";\r\n\r\nexport type AuthType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n  isFetching?: boolean\r\n}\r\n\r\nexport type ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nconst initialState: AuthType = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state: AuthType = initialState, action: ActionsTypes) => {\r\n  switch (action.type) {\r\n    case 'SET-USER-DATA': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserDataSuccess =\r\n  (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n      type: 'SET-USER-DATA',\r\n      payload: {\r\n        id: userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n      }\r\n    } as const\r\n  }\r\n\r\nexport const setAuthUserData = (): ThunkType => {\r\n  return (dispatch: Dispatch) => {\r\n    return authAPI.authMe()\r\n      .then(data => {\r\n        if (data.resultCode === 0) {\r\n          const { login, email, id } = data.data;\r\n          dispatch(setAuthUserDataSuccess(id, email, login, true))\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport const loginUser = (loginFormData: LoginFormDataType): ThunkType => {\r\n  return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes | FormAction>) => {\r\n    authAPI.login(loginFormData)\r\n      .then(res => {\r\n        if (res.resultCode === 0) dispatch(setAuthUserData())\r\n        else {\r\n          const message = res.messages.length > 0 ? res.messages[0] : \"Some error\";\r\n          dispatch(stopSubmit(\"login\", { _error: message }));\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport const logoutUser = (): ThunkType => {\r\n  return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n    authAPI.logout()\r\n      .then(res => {\r\n        if (res.resultCode === 0) dispatch(setAuthUserDataSuccess(null, null, null, false))\r\n      })\r\n  }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from './../../assets/img/logo.png';\r\nimport styles from './Header.module.scss';\r\n\r\ntype HeaderPropsType = {\r\n  isAuth: boolean\r\n  login: string | null\r\n  logoutUser: () => void\r\n}\r\n\r\nconst Header: React.FC<HeaderPropsType> = (props) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <NavLink className={styles.header__link} to=\"/profile\">\r\n        <img className={styles.header__logo} src={logo} alt=\"logo\" />\r\n      </NavLink>\r\n      {props.isAuth\r\n        ? <div className={styles.headerLogin}>\r\n          <NavLink to=\"/profile\">{props.login}</NavLink>\r\n          <button onClick={props.logoutUser}>Log out</button>\r\n        </div>\r\n        : <div className={styles.headerLogin}>\r\n          <NavLink to='/login'>Login</NavLink>\r\n        </div>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../redux/authReducer';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport Header from './Header';\r\n\r\ntype MapStateToPropsType = {\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n  logoutUser: () => void\r\n}\r\n\r\ntype HeaderContainerType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n  return {\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(HeaderContainer);","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { loginUser } from \"../../redux/authReducer\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport { required } from \"../../utils/validators/validator\";\r\nimport { Input } from \"../common/FormsControl/FormsControl\";\r\nimport s from './Login.module.scss'\r\nimport styles from './../common/FormsControl/FormsControl.module.scss';\r\n\r\nexport type LoginFormDataType = {\r\n  login: string\r\n  password: string\r\n  rememberMe?: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormDataType>> = (props) => {\r\n  return (\r\n    <form className={s.form} onSubmit={props.handleSubmit}>\r\n      <div className={`${s.loginInput} ${s.inputContainer}`}>\r\n        <Field\r\n          validate={[required]}\r\n          component={Input}\r\n          name=\"login\"\r\n          placeholder=\"Login\"\r\n        />\r\n      </div>\r\n      <div className={`${s.loginPassword} ${s.inputContainer}`}>\r\n        <Field\r\n          type=\"password\"\r\n          validate={[required]}\r\n          component={Input}\r\n          name=\"password\"\r\n          placeholder=\"Password\" />\r\n      </div>\r\n      <div className={s.checkboxContainer}>\r\n        <Field\r\n          component={Input}\r\n          name=\"rememberMe\"\r\n          type=\"checkbox\" /> <span>remember me</span>\r\n      </div>\r\n      <div className={styles.errorMessage}>{props.error}</div>\r\n      <button className={s.loginButton}>Login</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormDataType>({\r\n  form: \"login\"\r\n})(LoginForm);\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth);\r\n  const onSumbitHandler = (formData: LoginFormDataType) => {\r\n    dispatch(loginUser(formData));\r\n  }\r\n  return isAuth ?\r\n    <Redirect to=\"/profile\" />\r\n    : <div className={s.container}>\r\n        <div className={s.intro}>Login to your account</div>\r\n        <LoginReduxForm onSubmit={onSumbitHandler} />\r\n      </div>\r\n\r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nconst Music = () => {\r\n  return <div>Music</div>\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.scss';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <div className={classes.navbar}>\r\n      <nav className=\"nav\">\r\n        <ul className=\"nav__list\">\r\n          <li className={classes.nav__list__item}>\r\n            <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/profile\">\r\n              <i className=\"far fa-user\"></i>\r\n              Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className={classes.nav__list__item}>\r\n            <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/dialogs\">\r\n              <i className=\"far fa-envelope\"></i>\r\n              Messages\r\n            </NavLink>\r\n          </li>\r\n          <li className={classes.nav__list__item}>\r\n            <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/users\">\r\n              <i className=\"fas fa-user-friends\"></i>\r\n              Users\r\n            </NavLink>\r\n          </li>\r\n          <li className={classes.nav__list__item}>\r\n            <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/news\">\r\n              <i className=\"far fa-newspaper\"></i>\r\n              News\r\n            </NavLink>\r\n          </li>\r\n          <li className={classes.nav__list__item}>\r\n              <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/music\">\r\n              <i className=\"fas fa-headphones-alt\"></i>\r\n              Music\r\n            </NavLink>\r\n          </li>\r\n          <li className={classes.nav__list__item}>\r\n            <NavLink activeClassName={classes.active} className={classes.nav__list__link} to=\"/settings\">\r\n              <i className=\"fas fa-cog\"></i>\r\n              Settings\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst News = () => {\r\n  return <div>News</div>\r\n}\r\n\r\nexport default News;","import { Dispatch } from 'redux';\r\nimport { profileAPI } from \"../API/API\";\r\nimport { AddPostFormType } from '../components/Profile/MyPosts/AddPost/AddPost';\r\nimport { ActionsTypes } from \"./redux-store\";\r\n\r\nexport type ProfilePageType = {\r\n    profile: UserProfileType | null\r\n    status: string\r\n    posts: Array<PostType>\r\n}\r\n\r\nexport type PostType = {\r\n    id: number\r\n    avatar: string\r\n    name: string\r\n    message: string\r\n    likeCount: number\r\n    time: string\r\n};\r\n\r\nexport type UserProfileType = {\r\n    aboutMe: string\r\n    contacts: {\r\n        facebook: string | null\r\n        website: string | null\r\n        vk: string | null\r\n        twitter: string | null\r\n        instagram: string | null\r\n        youtube: string | null\r\n        github: string | null\r\n        mainLink: string | null\r\n    }\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: {\r\n        small: string | null,\r\n        large: string | null\r\n    }\r\n}\r\n\r\n// тоже самое, при первом диспатче action, который сделает\r\n// redux, он возьмет этот стейт, а не undefined\r\nlet initialState: ProfilePageType = {\r\n    profile: null,\r\n    status: \"\",\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            avatar: require('./../assets/img/einstein.png'),\r\n            name: 'Albert Einstein',\r\n            message: 'Hi, how are you?',\r\n            likeCount: 2,\r\n            time: \"11:32\"\r\n        },\r\n        {\r\n            id: 2,\r\n            avatar: require('./../assets/img/batman.png'),\r\n            name: 'Bruce Wayne',\r\n            message: 'My first steps in react!',\r\n            likeCount: 24,\r\n            time: \"09:32\"\r\n        },\r\n    ],\r\n};\r\n\r\n// параметр по умолчанию\r\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case \"SET-USER-PROFILE\": {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case \"SET-USER-STATUS\": {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case \"ADD-POST\": {\r\n            const newPost: PostType = {\r\n                id: 5,\r\n                message: action.newPostText.post,\r\n                name: \"Bruce Wayne\",\r\n                avatar: require('./../assets/img/batman.png'),\r\n                likeCount: 0,\r\n                time: `${new Date().getHours()}:${new Date().getMinutes()}`,\r\n            }\r\n            return { ...state, posts: [...state.posts, newPost] };\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText: AddPostFormType) => {\r\n    return {\r\n        type: \"ADD-POST\",\r\n        newPostText: newPostText\r\n    } as const;\r\n}\r\n\r\nexport const setUserProfileSuccess = (profile: UserProfileType) => {\r\n    return {\r\n        type: 'SET-USER-PROFILE',\r\n        profile\r\n    } as const;\r\n}\r\n\r\nexport const setUserStatusSuccess = (status: string) => {\r\n    return {\r\n        type: 'SET-USER-STATUS',\r\n        status\r\n    } as const;\r\n}\r\n\r\nexport const setUserProfile = (userID: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.getUserProfile(userID).then(data => {\r\n            dispatch(setUserProfileSuccess(data));\r\n        });\r\n    }\r\n}\r\n\r\nexport const setUserStatus = (userID: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.getUserStatus(userID).then(data => {\r\n            dispatch(setUserStatusSuccess(data));\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status: string) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.updateUserStatus(status).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setUserStatusSuccess(status));\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { maxLength30, required } from '../../../../utils/validators/validator';\r\nimport { Textarea } from '../../../common/FormsControl/FormsControl';\r\nimport avatar from './../../../../assets/img/batman.png';\r\nimport classes from './AddPost.module.scss';\r\n\r\ntype AddPostType = {\r\n  addPost: (newPostText: AddPostFormType) => void\r\n}\r\n\r\nexport type AddPostFormType = {\r\n  post: string\r\n}\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormType>> = (props) => {\r\n\r\n  return (\r\n    <form className={classes.addPost__form} onSubmit={props.handleSubmit}>\r\n      <img className={classes.addPost__avatar} src={avatar} alt={\"avatar\"} />\r\n      <div>\r\n        <Field \r\n          name=\"post\" \r\n          component={Textarea}\r\n          placeholder={\"What's new?\"}\r\n          classnamestring={\"formControlPostTextarea\"} \r\n          validate={[required, maxLength30]} />\r\n        <button className={classes.addPost__btn}>Add Post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst ReduxAddPostForm = reduxForm<AddPostFormType>(\r\n  { form: \"Add Post\" }\r\n)(AddPostForm);\r\n\r\n\r\nconst AddPost: React.FC<AddPostType> = (props) => {\r\n\r\n  const submitHandler = (newPostText: AddPostFormType) => {\r\n    props.addPost(newPostText);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.addPost}>\r\n      <ReduxAddPostForm onSubmit={submitHandler} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddPost;","import React from \"react\";\r\nimport classes from \"./Post.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {PostType} from \"../../../../redux/profileReducer\";\r\n\r\n\r\n\r\n\r\ntype PostObjType = {\r\n  post: PostType\r\n}\r\n\r\n\r\nconst Post: React.FC<PostObjType> = (props) => {\r\n  return (\r\n    <article className={classes.post}>\r\n      <div className={classes.post__info}>\r\n        <div>\r\n          <img className={classes.post__info__avatar} src={props.post.avatar} alt={props.post.name} />\r\n        </div>\r\n        <div>\r\n          <NavLink className={classes.post__info__link} to='/profile'>\r\n            <h6 className={classes.post__info__title}>{props.post.name}</h6>\r\n          </NavLink>\r\n          <span className={classes.post__info__time}>{props.post.time}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.post__content}>\r\n        <p className={classes.post__content__text}>\r\n          {props.post.message}\r\n        </p>\r\n      </div>\r\n      <div className={classes.post__likes}>\r\n        <i className=\"far fa-heart\"></i>\r\n        <span className={classes.post__likes__text}>{props.post.likeCount} likes</span>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { PostType } from \"../../../redux/profileReducer\";\r\nimport AddPost, { AddPostFormType } from \"./AddPost/AddPost\";\r\nimport classes from \"./MyPosts.module.scss\";\r\nimport Post from \"./Post/Post\";\r\n\r\ntype MyPostsType = {\r\n  posts: PostType[]\r\n  addPost: (newPostText: AddPostFormType) => void\r\n}\r\n\r\nconst MyPosts: React.FC<MyPostsType> = (props) => {\r\n  return (\r\n    <>\r\n      <div className={classes.posts}>\r\n        <AddPost\r\n          addPost={props.addPost}\r\n        />\r\n      </div>\r\n      <div className={classes.posts}>\r\n        {props.posts.map(post => <Post key={post.id} post={post} />)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport { addPost, PostType} from \"../../../redux/profileReducer\";\r\nimport { AppStateType } from \"../../../redux/redux-store\";\r\nimport { AddPostFormType } from \"./AddPost/AddPost\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\ntype MapStateToPropsType = {\r\n  posts: PostType[]\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n  addPost: (newPostText: AddPostFormType) => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n  return {\r\n    addPost: (newPostText: AddPostFormType) => {\r\n      dispatch(addPost(newPostText))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, MapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;\r\n","import React, { ChangeEvent, useEffect, useState } from \"react\";\r\nimport s from \"./ProfileStatus.module.scss\";\r\n\r\ntype ProfileStatusPropsType = {\r\n  status: string\r\n  updateUserStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<ProfileStatusPropsType> = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState<boolean>(false);\r\n  const [status, setStatus] = useState<string>(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateUserStatus(status);\r\n  }\r\n\r\n  const onStatusChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  return (editMode\r\n    ? <>\r\n      <input\r\n        value={status}\r\n        onChange={onStatusChanged}\r\n        onBlur={deactivateEditMode}\r\n        autoFocus />\r\n    </>\r\n    : <span\r\n      onDoubleClick={activateEditMode}\r\n      className={s.status}>{props.status || \"No status\"}</span>\r\n  )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport avatar from \"../../../assets/img/batman.png\";\r\nimport coverImage from \"../../../assets/img/cover.jpg\";\r\nimport Preloader from \"../../common/Preloader\";\r\nimport { ProfileType } from \"../Profile\";\r\nimport classes from \"./ProfileInfo.module.scss\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\n\r\n\r\nconst ProfileInfo: React.FC<ProfileType> = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div className={classes.profileInfo}>\r\n            <div className={classes.profileCover}>\r\n                <img className={classes.profileCoverImg} src={props.profile?.photos.large || coverImage} alt=\"cover\" />\r\n            </div>\r\n            <div className={classes.profileBody}>\r\n                <div className={classes.profileAvatar}>\r\n                    <img src={props.profile?.photos.small || avatar} alt=\"avatar\" />\r\n                </div>\r\n                <div className={classes.profileDescr}>\r\n                    <h3 className={classes.profileDescrTitle}>{props.profile?.fullName}</h3>\r\n                    <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus} />\r\n                    <span>{props.profile.aboutMe}</span>\r\n                    <span className={classes.profileDescrJobSearch}>\r\n                        {props.profile?.lookingForAJob ? \"Ищу работу\" : \"Не ищу работу\"}\r\n                    </span>\r\n                    <span className={classes.profileDescrJobDescr}>{props.profile?.lookingForAJobDescription}</span>\r\n                </div>\r\n                <div className={classes.profileContacts}>\r\n                    <ul>\r\n                        <li>Main: <a href={`${props.profile.contacts.mainLink}`}>Main</a></li>\r\n                        <li>FB: <a href={`${props.profile.contacts.facebook}`}>FB</a></li>\r\n                        <li>Insta: <a href={`${props.profile.contacts.instagram}`}>Insta</a></li>\r\n                        <li>Github: <a href={`${props.profile.contacts.github}`}>Github</a></li>\r\n                        <li>Twitter: <a href={`${props.profile.contacts.twitter}`}>Twitter</a></li>\r\n                        <li>Youtube: <a href={`${props.profile.contacts.youtube}`}>Youtube</a></li>\r\n                        <li>VK: <a href={`${props.profile.contacts.vk}`}>VK</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport { UserProfileType } from '../../redux/profileReducer';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport classes from './Profile.module.scss';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nexport type ProfileType = {\r\n  profile: UserProfileType | null\r\n  status: string\r\n  updateUserStatus: (status: string) => void\r\n}\r\n\r\nconst Profile: React.FC<ProfileType> = (props) => {\r\n  return (\r\n    <div className={classes.profile}>\r\n      <ProfileInfo\r\n        updateUserStatus={props.updateUserStatus}\r\n        profile={props.profile}\r\n        status={props.status} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { compose } from 'redux';\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport { withAuthRedirect } from '../HOC/AuthRedirect';\r\nimport { setUserProfile, setUserStatus, updateUserStatus, UserProfileType } from \"./../../redux/profileReducer\";\r\nimport Profile from './Profile';\r\n\r\ntype PathParamsType = { userId: string };\r\n\r\ntype WithUrlProfileContainerType = RouteComponentProps<PathParamsType> & ProfileContainerType;\r\n\r\ntype MapStateToPropsType = {\r\n  profile: UserProfileType | null\r\n  status: string\r\n  authorizedUserId: number | null\r\n  isAuth: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n  setUserProfile: (userId: number | null) => void\r\n  setUserStatus: (userId: number | null) => void\r\n  updateUserStatus: (status: string) => void\r\n}\r\n\r\ntype ProfileContainerType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\n\r\n// ProfileContainer делает грязную работу для Profile (запрос на сервер)\r\nclass ProfileContainer extends Component<WithUrlProfileContainerType> {\r\n  componentDidMount() {\r\n    const userId = +this.props.match.params.userId || this.props.authorizedUserId;\r\n    this.props.setUserProfile(userId);\r\n    this.props.setUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return <Profile\r\n      {...this.props}\r\n      updateUserStatus={this.props.updateUserStatus}\r\n      profile={this.props.profile} />\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, { setUserProfile, setUserStatus, updateUserStatus }),\r\n  withRouter,\r\n  withAuthRedirect)\r\n  (ProfileContainer);","import React from 'react'\r\n\r\nconst Settings = () => {\r\n  return <div>Settings</div>\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './SidebarFriend.module.scss';\r\nimport {SidebarFriendType} from \"../../../redux/sidebarReducer\";\r\n\r\nconst SidebarFriend: React.FC<SidebarFriendType> = (props) => {\r\n  let online = props.status === \"online\";\r\n  return (\r\n    <li className={`${classes.sidebar__friend} ${online ? classes.active : \"\"}`} id={String(props.id)}>\r\n      <div className={classes.sidebar__friend__avatar_wrapper}>\r\n        <span></span>\r\n        <img\r\n          className={classes.sidebar__friend__avatar}\r\n          alt=\"ava\"\r\n          src={props.avatar} />\r\n      </div>\r\n      <div className={classes.sidebar__friend__descr}>\r\n        <NavLink to=\"/#\" className={classes.sidebar__friend__descr_title}>{props.name}</NavLink>\r\n        <span className={classes.sidebar__friend__descr_status}>{props.status}</span>\r\n      </div>\r\n      <i className=\"fas fa-ellipsis-h\"></i>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default SidebarFriend;","import React from 'react';\r\nimport classes from './Sidebar.module.scss';\r\nimport SidebarFriend from './SidebarFriend/SidebarFriend';\r\nimport {SidebarFriendType} from \"../../redux/sidebarReducer\";\r\n\r\n\r\ntype SidebarPropsType = {\r\n  sidebarFriends: SidebarFriendType[]\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarPropsType> = (props) => {\r\n  return (\r\n    <div className={classes.sidebar}>\r\n      <ul className={classes.sidebar__friends}>\r\n        {props.sidebarFriends.map(friend => <SidebarFriend\r\n          id={friend.id}\r\n          key={friend.id}\r\n          name={friend.name}\r\n          avatar={friend.avatar}\r\n          status={friend.status} />)}\r\n      </ul>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Sidebar;","import { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport Sidebar from './Sidebar';\r\nimport {SidebarFriendType} from \"../../redux/sidebarReducer\";\r\n\r\ntype MapStateToPropsType = {\r\n  sidebarFriends: SidebarFriendType[]\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n\r\n}\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n  return {\r\n    sidebarFriends: state.sidebar.friends\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): MapDispatchToPropsType {\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nconst SidebarContainer = connect(mapStateToProps, mapDispatchToProps)(Sidebar);\r\n\r\nexport default SidebarContainer;","import { Dispatch } from 'redux';\r\nimport { usersAPI } from \"../API/API\";\r\nimport { ActionsTypes } from \"./redux-store\";\r\n\r\nexport type UserType = {\r\n  name: string\r\n  id: number\r\n  uniqueUrlName: null | string\r\n  photos: {\r\n    small: null | string\r\n    large: null | string\r\n  }\r\n  status: null | string\r\n  followed: boolean\r\n}\r\n\r\nexport type UsersPageType = {\r\n  users: UserType[],\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: number[]\r\n}\r\n\r\nconst initialState: UsersPageType = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nfunction usersReducer(state = initialState, action: ActionsTypes): UsersPageType {\r\n  switch (action.type) {\r\n    case 'FOLLOW':\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.id) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case 'UNFOLLOW':\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.id) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case 'SET-USERS':\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      }\r\n    case 'SET-CURRENT-PAGE':\r\n      return {\r\n        ...state,\r\n        currentPage: action.pageNumber\r\n      }\r\n    case 'SET-TOTAL-USERS':\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsers\r\n      }\r\n    case 'TOGGLE-FETCHING':\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case 'TOGGLE-FOLLOWING':\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFollowing\r\n          ? [...state.followingInProgress, action.userID]\r\n          : state.followingInProgress.filter(id => id !== action.userID)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setUsers = (users: UserType[]) => {\r\n  return {\r\n    type: 'SET-USERS',\r\n    users: users\r\n  } as const\r\n}\r\n\r\nexport const followUserSuccess = (userID: number) => {\r\n  return {\r\n    type: 'FOLLOW',\r\n    id: userID\r\n  } as const\r\n}\r\n\r\nexport const unfollowUserSuccess = (userID: number) => {\r\n  return {\r\n    type: 'UNFOLLOW',\r\n    id: userID\r\n  } as const\r\n}\r\n\r\nexport const setCurrentPage = (pageNumber: number) => {\r\n  return {\r\n    type: 'SET-CURRENT-PAGE',\r\n    pageNumber\r\n  } as const\r\n}\r\n\r\nexport const setTotalUsersCount = (totalUsers: number) => {\r\n  return {\r\n    type: 'SET-TOTAL-USERS',\r\n    totalUsers\r\n  } as const\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n  return {\r\n    type: 'TOGGLE-FETCHING',\r\n    isFetching\r\n  } as const\r\n}\r\n\r\nexport const toggleFollowing = (isFollowing: boolean, userID: number) => {\r\n  return {\r\n    type: 'TOGGLE-FOLLOWING',\r\n    isFollowing,\r\n    userID\r\n  } as const\r\n}\r\n\r\n// thunk creator\r\nexport const requestUsers = (currentPage: number, pageSize: number) => {\r\n  return (dispatch: (action: ActionsTypes) => void) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    usersAPI.getUsers(currentPage, pageSize)\r\n      .then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setUsers(data.items));\r\n      }).catch(() => {\r\n        dispatch(setUsers([]));\r\n      })\r\n  }\r\n}\r\n\r\nexport const followUser = (userId: number) => {\r\n  return (dispatch: (action: ActionsTypes) => void) => {\r\n    dispatch(toggleFollowing(true, userId));\r\n    usersAPI.followUser(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(followUserSuccess(userId));\r\n      }\r\n      dispatch(toggleFollowing(false, userId));\r\n    })\r\n  }\r\n}\r\n\r\nexport const unfollowUser = (userId: number) => {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch(toggleFollowing(true, userId));\r\n    usersAPI.unfollowUser(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollowUserSuccess(userId));\r\n      }\r\n    })\r\n    dispatch(toggleFollowing(false, userId));\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\nimport { UserType } from \"./usersReducer\";\r\n\r\n\r\nexport const getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector( [getUsersSelector], (users: UserType[]) => {\r\n    return users.filter(() => true);\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getIsFollowing = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UserType } from '../../../redux/usersReducer';\r\nimport userBG from './../../../assets/img/userBG.jpg';\r\nimport s from './UserCard.module.scss';\r\n\r\ntype UserPropsType = {\r\n  user: UserType\r\n  followingInProgress: number[]\r\n  followUser: (userId: number) => void\r\n  unfollowUser: (userId: number) => void\r\n}\r\n\r\nconst User: React.FC<UserPropsType> = ({ user, followingInProgress, followUser, unfollowUser}) => {\r\n  function followUserHandler() {\r\n    followUser(user.id)\r\n  }\r\n\r\n  function unfollowUserHandler() {\r\n    unfollowUser(user.id);\r\n  }\r\n\r\n  return (\r\n    <div className={s.userCard}>\r\n      <div className={s.userCardBgWrapper}>\r\n        <img className={s.userCardBg} alt={\"userBG\"} src={userBG} />\r\n      </div>\r\n      <NavLink to={\"/profile/\" + user.id}>\r\n        <div className={s.userCardAvatarWrapper}>\r\n          <img className={s.userCardAvatar} alt={\"userAvatar\"} src={user.photos.small || \"https://www.shareicon.net/data/512x512/2017/01/06/868320_people_512x512.png\"} />\r\n        </div>\r\n      </NavLink>\r\n      <div className={s.userCardBottom}>\r\n        <NavLink to={\"#\"}>\r\n          <h5 className={s.userCardTitle}>{user.name}</h5>\r\n        </NavLink>\r\n        <span className={s.userCardLocation}>{\"user.location.city\"}, {\"user.location.country\"}</span>\r\n        <div className={s.userCardFeatures}>\r\n          <div className={s.userCardFriends}>\r\n            <span>{100}</span>\r\n            <br />\r\n            <span>friends</span>\r\n          </div>\r\n          <div className={s.userCardPhotos}>\r\n            <span>{100}</span>\r\n            <br />\r\n            <span>photos</span>\r\n          </div>\r\n        </div>\r\n        <h6 className={s.userCardStatus}>{user.status || \"status\"}</h6>\r\n        {user.followed ?\r\n          <button\r\n            disabled={followingInProgress.some(item => item === user.id)}\r\n            onClick={unfollowUserHandler}\r\n            style={{ backgroundColor: \"#d63434\" }}\r\n            className={s.userCardBtn}>Unfollow</button>\r\n          : <button\r\n            disabled={followingInProgress.some(item => item === user.id)}\r\n            onClick={followUserHandler}\r\n            style={{ backgroundColor: \"#38a9ff\" }}\r\n            className={s.userCardBtn}>Follow</button>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport { UserType } from \"../../redux/usersReducer\";\r\nimport UserCard from \"./UserCard/UserCard\";\r\nimport styles from \"./Users.module.scss\";\r\nimport s from \"./UserCard/UserCard.module.scss\";\r\n\r\ntype UsersType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    users: UserType[]\r\n    followingInProgress: number[]\r\n    onCurrentPageChanged: (currentPage: number) => void\r\n    followUser: (userId: number) => void\r\n    unfollowUser: (userId: number) => void\r\n}\r\n\r\n\r\nconst Users = (props: UsersType) => {\r\n\r\n    const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.users}>\r\n            <div className={styles.pagination}>\r\n                {pages.map((p, i) => <span\r\n                    key={i}\r\n                    onClick={(e) => props.onCurrentPageChanged(p)}\r\n                    className={props.currentPage === p ? s.selectedPage : \"\"}>\r\n                    {p}\r\n                </span>\r\n                )}\r\n            </div>\r\n            <div className={s.usersCards}>\r\n                {props.users.map(u => {\r\n                    return (\r\n                        <UserCard\r\n                            key={u.id}\r\n                            user={u}\r\n                            followUser={props.followUser}\r\n                            unfollowUser={props.unfollowUser}\r\n                            followingInProgress={props.followingInProgress}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { followUser, requestUsers, unfollowUser, UserType } from '../../redux/usersReducer';\r\nimport { getCurrentPage, getIsFetching, getIsFollowing, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/usersSelectors\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport Users from \"./Users\";\r\n\r\nexport type UsersContainerType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\ntype MapStateToPropsType = {\r\n  users: UserType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: number[]\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n  requestUsers: (currentPage: number, pageSize: number) => void\r\n  followUser: (userId: number) => void\r\n  unfollowUser: (userId: number) => void\r\n}\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersContainerType> {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onCurrentPageChanged = (currentPage: number) => {\r\n    this.props.requestUsers(currentPage, this.props.pageSize);\r\n  }\r\n\r\n  render() {\r\n    console.log(\"USERS container render\");\r\n    return (\r\n      <>\r\n        {this.props.isFetching\r\n          ? <Preloader />\r\n          : <Users currentPage={this.props.currentPage}\r\n            pageSize={this.props.pageSize}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            users={this.props.users}\r\n            followingInProgress={this.props.followingInProgress}\r\n            onCurrentPageChanged={this.onCurrentPageChanged}\r\n            followUser={this.props.followUser}\r\n            unfollowUser={this.props.unfollowUser} />\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// function mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress\r\n//   }\r\n// }\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateToPropsType {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getIsFollowing(state)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  requestUsers, followUser, unfollowUser\r\n})(UsersContainer)\r\n","import { ThunkAction, ThunkDispatch } from 'redux-thunk';\r\nimport { setAuthUserData } from './authReducer';\r\nimport { ActionsTypes, AppStateType } from \"./redux-store\";\r\n\r\nexport type AppReducerType = {\r\n    initialized: boolean\r\n}\r\n\r\nexport type ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nconst initialState: AppReducerType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: AppReducerType = initialState, action: ActionsTypes): AppReducerType => {\r\n    switch (action.type) {\r\n        case 'SUCCESS-INITIALIZED': {\r\n            return {\r\n                ...state,\r\n                initialized: action.initialized\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setInitializedSuccess = () => {\r\n    return {\r\n        type: 'SUCCESS-INITIALIZED',\r\n        initialized: true\r\n    } as const\r\n}\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        Promise.all([dispatch(setAuthUserData())])\r\n            .then(() => {\r\n                dispatch(setInitializedSuccess())\r\n            })\r\n    }\r\n}\r\n\r\nexport default appReducer;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport \"./App.scss\";\r\nimport Preloader from \"./components/common/Preloader\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport SidebarContainer from \"./components/Sidebar/SidebarContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport { initializeApp } from \"./redux/appReducer\";\r\nimport { AppStateType } from \"./redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n  initialized: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n  initializeApp: () => void\r\n}\r\n\r\ntype AppComponentStateType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\nclass App extends Component<AppComponentStateType> {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) return <Preloader />\r\n    return (\r\n      <div className=\"App\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <SidebarContainer />\r\n        <Route path=\"/login\" render={() => <Login />} />\r\n        <Route path=\"/profile/:userId?\"\r\n          render={() => {\r\n            return <ProfileContainer />\r\n          }}\r\n        />\r\n        <Route path=\"/dialogs\"\r\n          render={() => <DialogsContainer />}\r\n        />\r\n        <Route path=\"/users\" render={() => <UsersContainer />} />\r\n        <Route path=\"/news\" component={News} />\r\n        <Route path=\"/music\" component={Music} />\r\n        <Route path=\"/settings\" component={Settings} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n","import {ActionsTypes} from \"./redux-store\";\r\n\r\nexport type SidebarType = {\r\n  friends: Array<SidebarFriendType>\r\n}\r\n\r\nexport type SidebarFriendType = {\r\n  id: number\r\n  name: string\r\n  status: string\r\n  avatar: string\r\n}\r\n\r\nconst initalState: SidebarType = {\r\n  friends: [\r\n    { id: 1, name: \"Doctor Who\", status: \"online\", avatar: require('./../assets/img/doctorWho.png') },\r\n    { id: 2, name: \"Hakim Al Asad\", status: \"offline\", avatar: require('./../assets/img/hakimAlAsad.png') },\r\n    { id: 3, name: \"John Doe\", status: \"offline\", avatar: require('./../assets/img/johnDoe.png') },\r\n    { id: 4, name: \"Keanu Reeves\", status: \"online\", avatar: require('./../assets/img/keanuReeves.png') },\r\n    { id: 5, name: \"Mark Twain\", status: \"online\", avatar: require('./../assets/img/markTwain.png') },\r\n    { id: 6, name: \"Nelson Mandela\", status: \"online\", avatar: require('./../assets/img/nelsonMandela.png') },\r\n    { id: 7, name: \"Margo Robby\", status: \"offline\", avatar: require('./../assets/img/margoRobby.png') },\r\n    { id: 8, name: \"Disco Girl\", status: \"online\", avatar: require('./../assets/img/discoGirl.png') },\r\n    { id: 9, name: \"Ms Fitcher\", status: \"online\", avatar: require('./../assets/img/msFitcher.png') },\r\n  ]\r\n};\r\n\r\nconst sidebarReducer = (state: SidebarType = initalState, action: ActionsTypes) => {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer, { setInitializedSuccess } from \"./appReducer\";\r\nimport authReducer, { setAuthUserDataSuccess } from \"./authReducer\";\r\nimport dialogsReducer, { sendMessage } from \"./dialogsReducer\";\r\nimport profileReducer, { addPost, setUserProfileSuccess, setUserStatusSuccess } from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducers, { followUserSuccess, setCurrentPage, setTotalUsersCount, setUsers, toggleFollowing, toggleIsFetching, unfollowUserSuccess } from \"./usersReducer\";\r\n\r\nexport type ActionsTypes = ReturnType<typeof addPost> |\r\n    ReturnType<typeof sendMessage> |\r\n    ReturnType<typeof followUserSuccess> |\r\n    ReturnType<typeof unfollowUserSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof setUserProfileSuccess> |\r\n    ReturnType<typeof setUserStatusSuccess> |\r\n    ReturnType<typeof setAuthUserDataSuccess> |\r\n    ReturnType<typeof toggleFollowing> |\r\n    ReturnType<typeof setInitializedSuccess>;\r\n\r\n// reducers - это наш state, с тремя ветками\r\n// за св-во profilePage отвечает profileReducer и тд\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducers,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\n// отдаем редюсеры store\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\ndeclare global {\r\n    interface Window {\r\n        state: any;\r\n    }\r\n}\r\n\r\n//@ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport store from './redux/redux-store';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    {/* Provider сидит в библиотеке react-redux */}\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>, document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControlPostTextarea\":\"FormsControl_formControlPostTextarea__1BQEo\",\"error\":\"FormsControl_error__NAyoB\",\"formControlMessageTextarea\":\"FormsControl_formControlMessageTextarea__3O_5i\",\"errorMessage\":\"FormsControl_errorMessage__28ZxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar__friend\":\"SidebarFriend_sidebar__friend__a1_wU\",\"active\":\"SidebarFriend_active__1I9c9\",\"sidebar__friend__avatar_wrapper\":\"SidebarFriend_sidebar__friend__avatar_wrapper__YBRWv\",\"sidebar__friend__avatar\":\"SidebarFriend_sidebar__friend__avatar__3_xXk\",\"sidebar__friend__descr\":\"SidebarFriend_sidebar__friend__descr__3KCMV\",\"sidebar__friend__descr_title\":\"SidebarFriend_sidebar__friend__descr_title__1IXe8\",\"sidebar__friend__descr_status\":\"SidebarFriend_sidebar__friend__descr_status__NVtnY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__2DMjW\",\"right\":\"MessageItem_right__p_3_M\",\"message__img\":\"MessageItem_message__img__FxSIW\",\"message__name\":\"MessageItem_message__name__ZI8HM\",\"message__descr\":\"MessageItem_message__descr__1gYia\",\"message__time\":\"MessageItem_message__time__1jsIW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages__field\":\"Messages_messages__field__Ih-rH\",\"messages__field__title\":\"Messages_messages__field__title__2UNz8\",\"messages__title\":\"Messages_messages__title__3gJFT\",\"messages__area\":\"Messages_messages__area__3621u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1moTH\",\"header__link\":\"Header_header__link__tkEa3\",\"header__current\":\"Header_header__current__RsSPU\",\"headerLogin\":\"Header_headerLogin__2yTTD\"};","module.exports = __webpack_public_path__ + \"static/media/einstein.8631c425.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newMessage\":\"AddMessage_newMessage__pvbHW\",\"newMessage__bottom\":\"AddMessage_newMessage__bottom__2lrnh\",\"newMessage__btn\":\"AddMessage_newMessage__btn__HI73J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPost\":\"AddPost_addPost__FTZCr\",\"addPost__form\":\"AddPost_addPost__form__10ysd\",\"addPost__avatar\":\"AddPost_addPost__avatar__2opvL\",\"addPost__btn\":\"AddPost_addPost__btn__1E-oT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__jLV5Q\",\"dialogs__header\":\"Dialogs_dialogs__header__3nJ9c\",\"dialogs__contacts\":\"Dialogs_dialogs__contacts__2xfKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2gsKL\"};"],"sourceRoot":""}